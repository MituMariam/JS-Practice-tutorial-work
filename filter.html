<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">

</head>
<body>
    <div class="container">
        <!--filter buttons -->
        <div class="row">
            <!-- <div class="col-lg-8 mx-auto d-flex justify-content-around my-2 sortBtn flex-wrap"> -->
                <div class="col-lg-8 d-flex mx-auto justify-content-center flex-wrap sortBtn  my-2">
              <a href="" class="btn btn-outline-secondary btn-black text-uppercase filter-btn m-2" data-filter="all"> All</a>
              <a href="#" class="btn btn-outline-secondary btn-black text-uppercase filter-btn m-2" data-filter="food">Foods</a>
              <a href="#" class="btn btn-outline-secondary btn-black text-uppercase filter-btn m-2" data-filter="nature">Natures</a>
            </div>
    
          </div>
      
           <!-- search -->
      <div class="row">

          <div class="col-10 mx-auto col-md-4">
            <form>
              <div class="input-group mb-3">
                <div class="input-group-prepend ">
                  <span class="input-group-text search-box" id="search-icon"><i class="fas fa-search"></i></span>
                </div>
                <input type="text" class="form-control" placeholder='item....' id="search-item">
              </div>
  
            </form>
          </div>
        </div>
        <!--end of filter buttons -->

        <!-- store  items-->
      <div class="row" id="store-items">
          <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item food" data-item="food">
            <div class="card ">
              <div class="img-container">
                <img src="img/food/6.jpg" class="card-img-top store-img" alt="">
                <span class="store-item-icon">
                  <i class="fas fa-shopping-cart"></i>
                </span>
              </div>
              <div class="card-body">
                <div class="card-text d-flex justify-content-between text-capitalize">
                  <h5 id="store-item-name">sweet item</h5>
                  <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
  
                </div>
              </div>
  
  
            </div>
            <!-- end of card-->
          </div>
          <!--end of single store item-->
          <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item nature" data-item="nature">
              <div class="card ">
                <div class="img-container">
                  <img src="img/nature/1.jpg" class="card-img-top store-img" alt="">
                  <span class="store-item-icon">
                    <i class="fas fa-shopping-cart"></i>
                  </span>
                </div>
                <div class="card-body">
                  <div class="card-text d-flex justify-content-between text-capitalize">
                    <h5 id="store-item-name">nature item</h5>
                    <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
    
                  </div>
                </div>
    
    
              </div>
              <!-- end of card-->
            </div>
            <!--end of single store item-->
            <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item food" data-item="food">
              <div class="card ">
                <div class="img-container">
                  <img src="img/food/2.jpg" class="card-img-top store-img" alt="">
                  <span class="store-item-icon">
                    <i class="fas fa-shopping-cart"></i>
                  </span>
                </div>
                <div class="card-body">
                  <div class="card-text d-flex justify-content-between text-capitalize">
                    <h5 id="store-item-name">sweet item</h5>
                    <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
    
                  </div>
                </div>
    
    
              </div>
              <!-- end of card-->
            </div>
            <!--end of single store item-->
            <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item nature" data-item="nature">
              <div class="card ">
                <div class="img-container">
                  <img src="img/nature/3.jpg" class="card-img-top store-img" alt="">
                  <span class="store-item-icon">
                    <i class="fas fa-shopping-cart"></i>
                  </span>
                </div>
                <div class="card-body">
                  <div class="card-text d-flex justify-content-between text-capitalize">
                    <h5 id="store-item-name">nature item</h5>
                    <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
    
                  </div>
                </div>
    
    
              </div>
              <!-- end of card-->
            </div>
            <!--end of single store item-->
            <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item food" data-item="food">
              <div class="card ">
                <div class="img-container">
                  <img src="img/food/3.jpg" class="card-img-top store-img" alt="">
                  <span class="store-item-icon">
                    <i class="fas fa-shopping-cart"></i>
                  </span>
                </div>
                <div class="card-body">
                  <div class="card-text d-flex justify-content-between text-capitalize">
                    <h5 id="store-item-name">sweet item</h5>
                    <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
    
                  </div>
                </div>
    
    
              </div>
              <!-- end of card-->
            </div>
            <!--end of single store item-->
            <!-- single item -->
          <div class="col-10 col-sm-6 col-lg-4 mx-auto my-3 store-item nature" data-item="nature">
              <div class="card ">
                <div class="img-container">
                  <img src="img/nature/5.jpg" class="card-img-top store-img" alt="">
                  <span class="store-item-icon">
                    <i class="fas fa-shopping-cart"></i>
                  </span>
                </div>
                <div class="card-body">
                  <div class="card-text d-flex justify-content-between text-capitalize">
                    <h5 id="store-item-name">nature item</h5>
                    <h5 class="store-item-value">$ <strong id="store-item-price" class="font-weight-bold">5</strong></h5>
                  </div>
                </div>
              </div>
              <!-- end of card-->
            </div>
            <!--end of single store item-->
    </div>
  </div>

   <!-- Modal Container-->
  <div class="container-fluid">
<div class="row lightbox-container">
<div class="col-md-10 mx-auto lightbox-holder">
  <span class="lightbox-close">x</span>
  <div class="lightbox-item"></div>
  <span class="lightbox-controller btnLeft"> < </span>
  <span class="lightbox-controller btnRight"> > </span>
</div>
</div>
  </div>
   

<script>

//*-------- filter btns-------------------

(function(){
//select all btns
const filterBtn = document.querySelectorAll('.filter-btn')
// console.log(filterBtn);
filterBtn.forEach(function(btn){
btn.addEventListener('click',function(event){
  //prevebnt default 
event.preventDefault();
const value = event.target.dataset.filter;
// console.log(value);
const items = document.querySelectorAll('.store-item');
items.forEach(function(item){
  if(value === "all"){
    item.style.display = "block";
  }else{
    if(item.classList.contains(value)){
      item.style.display = "block";
    }else{
      item.style.display = "none";
    }
  }
})
})
})
 
})();


//*------- Search input-------------------
(function(){
const search = document.getElementById("search-item");
search.addEventListener('keyup',function(){
  let value = search.value.toLowerCase().trim();
  // console.log(searchValue)
  const items = document.querySelectorAll('.store-item');
  items.forEach(function(item){
let type = item.dataset.item;
// console.log(typeof(type))

// if(type.includes(value)){
//   item.style.display = "block";
// }else{
//       item.style.display = "none";
//     }

let length = value.length;
let match = type.slice(0,length);
console.log(value)
console.log(match)

if(value === match){
  item.style.display = "block";
}else{
      item.style.display = "none";
    }
  })
})
})();

//*------- Modal lighbox-------------------

//all images and classes
//add all images to the array
//open modal
//close modal
//get single img src
//show modal with an image

(function(){
  //all images
let imgList = [];
let counter = 0;

const images = document.querySelectorAll('.store-img')
const container = document.querySelector('.lightbox-container')
const item = document.querySelector('.lightbox-item')
const closeBtn = document.querySelector('.lightbox-close')
const btnLeft = document.querySelector('.btnLeft')
const btnRight = document.querySelector('.btnRight')

  //add all images to the array
images.forEach(function(img){
imgList.push(img.src)
  })
  console.log(imgList)

//open modal
  images.forEach(function(img){
    img.addEventListener('click',function(event){
      //show modal
      container.classList.add('img-show')

      // get single img src
      let src = event.target.src;
      // console.log(src);
      counter = imgList.indexOf(src)
        console.log(counter);
//show modal with an image
item.style.backgroundImage = `url(${src})`;

    });
  });

//close modal

closeBtn.addEventListener('click',function(){
  container.classList.remove('img-show')

})

// active with btns
btnLeft.addEventListener('click',function(){
  counter--;
  if( counter < 0){
    counter = imgList.length - 1;
  }
  item.style.backgroundImage = `url(${imgList[counter]})`;
  console.log(counter);  
})

btnRight.addEventListener('click',function(){
  counter++;
  if( counter > imgList.length - 1){
    counter = 0;
  }
  item.style.backgroundImage = `url(${imgList[counter]})`;
  console.log(counter);  
})
})();


</script>
</body>
</html>